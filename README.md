## README

### Requirements

- Docker: https://docs.docker.com/install/
- pip: https://pip.pypa.io/en/stable/installing/

### Clone & set-up

```sh
git clone https://github.com/datarootsio/rootscamp2019-session4.git
cd rootscamp2019-session4/

## OPTIONALLY CREATE A VIRTUAL ENV ##
sudo apt-get install python3-dev
virtualenv -p python3 ENV
source ENV/bin/activate
pip3 install -r requirements.txt
```

### Let's play together

```sh
# different API flavours
python api_simple.py
python api_connexxion.py
python api_connexxion_fancypansy.py
```

### Do I have to type the whole feature input?

Nope, here's an example request using `cURL`. Just copy and past in your terminal.

```sh
curl -X POST \
  http://localhost:8080/predict \
  -H 'Content-Type: application/json' \
  -d '[
	[90.0,53.92857142857143,20.0,803.0,526.547619047619,300.0,76.0,75.16666666666667,71.0,1000.0,997.952380952381,994.0,285.7,286.48,286.47999999999973,286.48,285.59571428571445,285.49,10000.0,10000.0,10000.0,210.0,208.3333333333333,200.0,12.3,10.30714285714286,6.7,0,56.0,48.74418604651163,48.0,802.0,521.3953488372093,300.0,76.0,73.79069767441861,71.0,1001.0,999.1395348837207,997.0,285.71,286.48,286.47999999999973,286.48,285.5318604651161,285.35,10000.0,10000.0,10000.0,210.0,202.7906976744186,200.0,13.4,11.569767441860465,9.8,480.0,60.0,3,0.0,2.0,2.0,26,900.0,46.96666666666667,1,15.033333333333333,0,-1,-1,-1,-1],
	[75.0,40.88372093023256,0.0,521.0,460.3953488372093,200.0,81.0,67.6046511627907,54.0,991.0,989.6744186046512,987.0,285.61,286.48,285.8479069767445,285.37,283.970465116279,282.34,10000.0,10000.0,10000.0,240.0,220.69767441860463,210.0,14.9,12.318604651162795,9.8,7,88.0,51.87179487179486,0.0,502.0,485.71794871794884,200.0,71.0,65.41025641025641,54.0,991.0,989.7692307692308,989.0,285.61,286.48,286.04538461538465,285.37,284.3410256410256,282.5,10000.0,10000.0,10000.0,220.0,214.61538461538456,210.0,13.9,12.379487179487187,10.8,0.0,60.0,3,0.0,6.0,0.0,26,0.0,1.9666666666666663,0,1.0333333333333334,0,-1,-1,-1,-1],
	[75.0,60.849056603773576,20.0,521.0,456.0754716981132,300.0,80.0,70.39622641509433,66.0,992.0,989.8490566037736,989.0,281.75,283.15,282.5066037735848,280.37,280.8050943396227,279.43,10000.0,9037.735849056604,4000.0,260.0,228.30188679245282,220.0,14.4,12.513207547169802,10.3,11,75.0,60.566037735849065,20.0,521.0,455.7358490566038,300.0,80.0,68.0754716981132,61.0,992.0,990.2075471698113,989.0,281.89,283.15,282.6066037735848,281.15,280.96283018867933,279.41,10000.0,8415.094339622641,4000.0,260.0,228.67924528301887,220.0,14.4,13.056603773584893,11.3,60.0,60.0,3,2.0,5.0,2.0,26,60.0,58.96666666666667,1,5.033333333333333,0,-1,-1,-1,-1]
]'
```

Or for the last API:

```sh
curl -X POST \
  http://localhost:8080/predict \
  -H 'Content-Type: application/json' \
  -d '[
	[90.0,53.92857142857143,20.0,803.0,526.547619047619,300.0,76.0,75.16666666666667,71.0,1000.0,997.952380952381,994.0,285.7,286.48,286.47999999999973,286.48,285.59571428571445,285.49,10000.0,10000.0,10000.0,210.0,208.3333333333333,200.0,12.3,10.30714285714286,6.7,0,56.0,48.74418604651163,48.0,802.0,521.3953488372093,300.0,76.0,73.79069767441861,71.0,1001.0,999.1395348837207,997.0,285.71,286.48,286.47999999999973,286.48,285.5318604651161,285.35,10000.0,10000.0,10000.0,210.0,202.7906976744186,200.0,13.4,11.569767441860465,9.8,480.0,60.0,3,0.0,2.0,2.0,26,900.0,46.96666666666667,1,15.033333333333333,0,-1,-1,-1,-1],
	[75.0,40.88372093023256,0.0,521.0,460.3953488372093,200.0,81.0,67.6046511627907,54.0,991.0,989.6744186046512,987.0,285.61,286.48,285.8479069767445,285.37,283.970465116279,282.34,10000.0,10000.0,10000.0,240.0,220.69767441860463,210.0,14.9,12.318604651162795,9.8,7,88.0,51.87179487179486,0.0,502.0,485.71794871794884,200.0,71.0,65.41025641025641,54.0,991.0,989.7692307692308,989.0,285.61,286.48,286.04538461538465,285.37,284.3410256410256,282.5,10000.0,10000.0,10000.0,220.0,214.61538461538456,210.0,13.9,12.379487179487187,10.8,0.0,60.0,3,0.0,6.0,0.0,26,0.0,1.9666666666666663,0,1.0333333333333334,0,-1,-1,-1,-1],
	[75.0,60.849056603773576,20.0,521.0,456.0754716981132,300.0,80.0,70.39622641509433,66.0,992.0,989.8490566037736,989.0,281.75,283.15,282.5066037735848,280.37,280.8050943396227,279.43,10000.0,9037.735849056604,4000.0,260.0,228.30188679245282,220.0,14.4,12.513207547169802,10.3,11,75.0,60.566037735849065,20.0,521.0,455.7358490566038,300.0,80.0,68.0754716981132,61.0,992.0,990.2075471698113,989.0,281.89,283.15,282.6066037735848,281.15,280.96283018867933,279.41,10000.0,8415.094339622641,4000.0,260.0,228.67924528301887,220.0,14.4,13.056603773584893,11.3,60.0,60.0,3,2.0,5.0,2.0,26,60.0,58.96666666666667,1,5.033333333333333,0,-1,-1,-1,-1]
]'
```


### Docker

In the folder where the Dockerfile is => builds all the docker file
```docker build .```
This creates a session name
```docker run -p 8080:8080 image-name```


